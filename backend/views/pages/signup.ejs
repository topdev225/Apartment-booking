<body>
    <div class="container p-5">
        <form id="register" class="mt-5">
            <h2>Register</h2>
            <div class="form-group">
                <input 
                    id="userName"
                    type="text" 
                    class="form-control" 
                    placeholder="username">
            </div>
            <div class="form-group">
                <input 
                    id="email"
                    type="email" 
                    class="form-control" 
                    placeholder="email">
            </div>
            <div class="form-group">
                <input 
                    id="password"
                    type="password" 
                    class="form-control" 
                    placeholder="password">
            </div>
            <!-- <div class="form-group">
              <select class="form-control" name="role" id="role">
                <option value="0">USER</option>
                <option value="1">REALTOR</option>
                <option value="2">ADMIN</option>
              </select>
            </div> -->
            <div class="form-group">
                <button class="btn brn-outline-primary" type="submit">Register</button>
            </div>
            <span>Go to <a href="/">Login</a></span>
        </form>
    </div>
    <% include ../scripts.ejs %>
    <script>
        $(document).ready(function() {
           $('form#register').submit(function(e) {
                var sendData = {
                    userName: $('input#userName').val(),
                    email: $('input#email').val(),
                    password: $('input#password').val(),
                    // role: $( "select#role" ).val(),
                    role: 0
                };

                $.ajax({
                    type: "POST",
                    url: "/api/auth/register",
                    data: sendData,
                    dataType: "JSON"
                }).done(response => {
                    console.log(response);
                });

                e.preventDefault();
           });
            
        });
    </script>
</body>